{"version":3,"sources":["webpack:///build/pixi-audio.js","webpack:///webpack/bootstrap d9d899bb38ee26a9e06c","webpack:///./src/utils.js","webpack:///external \"PIXI\"","webpack:///./src/AudioManager.js","webpack:///./src/Audio.js","webpack:///./src/audioParser.js","webpack:///./src/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_setAudioExt","ext","isWebAudioSupported","_pixi","loaders","Resource","setExtensionXhrType","XHR_RESPONSE_TYPE","BUFFER","setExtensionLoadType","LOAD_TYPE","AUDIO","Object","defineProperty","value","isHTMLAudioSupported","window","Audio","webAudioContext","AudioContext","webkitAudioContext","isAudioSupported","isMp3Supported","isOggSupported","isWavSupported","isM4aSupported","createGainNode","globalWebAudioContext","audio","document","createElement","canPlayType","ctx","createGain","default","PIXI","_interopRequireDefault","obj","__esModule","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_utils","_utils2","_Audio","_Audio2","AudioManager","this","enabled","sounds","context","gainNode","connect","destination","name","audios","push","index","indexOf","splice","len","emptyValue","muted","mute","paused","pause","_interopRequireWildcard","newObj","hasOwnProperty","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_PIXI$utils$EventEmit","data","manager","_this","getPrototypeOf","_loop","_paused","_muted","_volume","_startTime","_lastPauseTime","_offsetTime","playing","addEventListener","_onEnd","bind","emit","createBufferSource","start","noteOn","stop","noteOff","buffer","loop","currentTime","onended","gain","volume","src","children","preload","load","play","removeAudio","reset","get","set","duration","utils","EventEmitter","audioParser","resource","next","_getExt","url","_allowedExt","_canPlay","decodeAudioData","_AudioManager2","audioUrlParser","resourceUrl","split","shift","pop","toLowerCase","canPlay","_AudioManager","_typeof","Symbol","iterator","_audioParser","Loader","addPixiMiddleware","baseAdd","add","options","cb","toString","loader","audioManager"],"mappings":"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","file":"build/pixi-audio.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(6);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _pixi = __webpack_require__(2);\n\t\n\tvar isHTMLAudioSupported = !!window.Audio,\n\t    webAudioContext = window.AudioContext || window.webkitAudioContext,\n\t    isWebAudioSupported = !!webAudioContext,\n\t    isAudioSupported = isWebAudioSupported || isHTMLAudioSupported,\n\t    isMp3Supported = false,\n\t    isOggSupported = false,\n\t    isWavSupported = false,\n\t    isM4aSupported = false,\n\t    createGainNode = null,\n\t    globalWebAudioContext = isWebAudioSupported ? new webAudioContext() : null;\n\t\n\tif (isAudioSupported) {\n\t  var audio = document.createElement(\"audio\");\n\t  isMp3Supported = audio.canPlayType('audio/mpeg;') !== \"\";\n\t  isOggSupported = audio.canPlayType('audio/ogg; codecs=\"vorbis\"') !== \"\";\n\t  isWavSupported = audio.canPlayType('audio/wav') !== \"\";\n\t  isM4aSupported = audio.canPlayType('audio/mp4; codecs=\"mp4a.40.5\"') !== \"\";\n\t\n\t  //Add some config to the pixi loader\n\t  if (isMp3Supported) _setAudioExt(\"mp3\");\n\t  if (isOggSupported) _setAudioExt(\"ogg\");\n\t  if (isWavSupported) _setAudioExt(\"wav\");\n\t  if (isM4aSupported) _setAudioExt(\"m4a\");\n\t\n\t  if (isWebAudioSupported) {\n\t    createGainNode = function createGainNode(ctx) {\n\t      return ctx.createGain ? ctx.createGain() : ctx.createGainNode();\n\t    };\n\t  }\n\t}\n\t\n\tfunction _setAudioExt(ext) {\n\t  if (isWebAudioSupported) {\n\t    _pixi.loaders.Resource.setExtensionXhrType(ext, _pixi.loaders.Resource.XHR_RESPONSE_TYPE.BUFFER);\n\t  } else {\n\t    _pixi.loaders.Resource.setExtensionLoadType(ext, _pixi.loaders.Resource.LOAD_TYPE.AUDIO);\n\t  }\n\t}\n\t\n\texports.default = {\n\t  isHTMLAudioSupported: isHTMLAudioSupported,\n\t  webAudioContext: webAudioContext,\n\t  isWebAudioSupported: isWebAudioSupported,\n\t  isAudioSupported: isAudioSupported,\n\t  isMp3Supported: isMp3Supported,\n\t  isOggSupported: isOggSupported,\n\t  isWavSupported: isWavSupported,\n\t  isM4aSupported: isM4aSupported,\n\t  globalWebAudioContext: globalWebAudioContext,\n\t  createGainNode: createGainNode\n\t};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = PIXI;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _utils = __webpack_require__(1);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _Audio = __webpack_require__(4);\n\t\n\tvar _Audio2 = _interopRequireDefault(_Audio);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar AudioManager = function () {\n\t  function AudioManager() {\n\t    _classCallCheck(this, AudioManager);\n\t\n\t    this.enabled = _utils2.default.isAudioSupported;\n\t    this.sounds = [];\n\t\n\t    if (_utils2.default.isWebAudioSupported) {\n\t      this.context = _utils2.default.globalWebAudioContext;\n\t      this.gainNode = _utils2.default.createGainNode(this.context);\n\t      this.gainNode.connect(this.context.destination);\n\t    }\n\t  }\n\t\n\t  _createClass(AudioManager, [{\n\t    key: 'getAudio',\n\t    value: function getAudio(name) {\n\t      var audio = new _Audio2.default(AudioManager.audios[name], this);\n\t      this.sounds.push(audio);\n\t      return audio;\n\t    }\n\t  }, {\n\t    key: 'removeAudio',\n\t    value: function removeAudio(audio) {\n\t      var index = this.sounds.indexOf(audio);\n\t      if (index !== -1) {\n\t        this.sounds.splice(index, 1);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'filterAudios',\n\t    value: function filterAudios(id, value) {\n\t      var audios = [];\n\t      var len = this.sounds.length;\n\t      var emptyValue = typeof value === \"undefined\";\n\t\n\t      for (var i = 0; i < len; i++) {\n\t        if (emptyValue && !!this.sounds[i][id] || !emptyValue && this.sounds[i][id] === value) {\n\t          audios.push(this.sounds[i]);\n\t        }\n\t      }\n\t\n\t      return audios;\n\t    }\n\t  }, {\n\t    key: 'mute',\n\t    value: function mute(value) {\n\t      value = value !== false;\n\t      var len = this.sounds.length;\n\t      for (var i = 0; i < len; i++) {\n\t        this.sounds[i].muted = value;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'unmute',\n\t    value: function unmute() {\n\t      return this.mute(false);\n\t    }\n\t  }, {\n\t    key: 'pause',\n\t    value: function pause(value) {\n\t      value = value !== false;\n\t      var len = this.sounds.length;\n\t      for (var i = 0; i < len; i++) {\n\t        this.sounds[i].paused = value;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'resume',\n\t    value: function resume() {\n\t      return this.pause(false);\n\t    }\n\t  }]);\n\t\n\t  return AudioManager;\n\t}();\n\t\n\tAudioManager.audios = {};\n\texports.default = AudioManager;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _pixi = __webpack_require__(2);\n\t\n\tvar PIXI = _interopRequireWildcard(_pixi);\n\t\n\tvar _utils = __webpack_require__(1);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Audio = function (_PIXI$utils$EventEmit) {\n\t  _inherits(Audio, _PIXI$utils$EventEmit);\n\t\n\t  function Audio(data, manager) {\n\t    _classCallCheck(this, Audio);\n\t\n\t    var _this = _possibleConstructorReturn(this, (Audio.__proto__ || Object.getPrototypeOf(Audio)).call(this));\n\t\n\t    _this._loop = false;\n\t    _this._paused = false;\n\t    _this._muted = false;\n\t    _this._volume = 1;\n\t    _this._startTime = 0;\n\t    _this._lastPauseTime = 0;\n\t    _this._offsetTime = 0;\n\t    _this.playing = false;\n\t\n\t    _this.manager = manager;\n\t    _this.data = data;\n\t\n\t    if (!_utils2.default.isWebAudioSupported) {\n\t      _this.audio = new window.Audio();\n\t      _this.audio.addEventListener('ended', _this._onEnd.bind(_this));\n\t    }\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Audio, [{\n\t    key: 'play',\n\t    value: function play(pause) {\n\t      if (!pause && this.paused || !pause && this.playing) return this;\n\t      this.playing = true;\n\t      this.emit('play');\n\t\n\t      if (_utils2.default.isWebAudioSupported) {\n\t        this.audio = this.manager.context.createBufferSource();\n\t        this.audio.start = this.audio.start || this.audio.noteOn;\n\t        this.audio.stop = this.audio.stop || this.audio.noteOff;\n\t\n\t        this.audio.buffer = this.data;\n\t        this.audio.loop = this.loop;\n\t        this._startTime = this.manager.context.currentTime;\n\t\n\t        this.audio.onended = this._onEnd.bind(this);\n\t        this.audio.gainNode = _utils2.default.createGainNode(this.manager.context);\n\t        this.audio.gainNode.gain.value = this.muted ? 0 : this.volume;\n\t        this.audio.gainNode.connect(this.manager.gainNode);\n\t\n\t        this.audio.connect(this.audio.gainNode);\n\t        this.audio.start(0, pause ? this._lastPauseTime : null);\n\t      } else {\n\t        this.audio.src = this.data.children[0].src;\n\t        this.audio.preload = \"auto\";\n\t        this.audio.volume = this.muted ? 0 : this.volume;\n\t        this.audio.load();\n\t        this.audio.play();\n\t      }\n\t\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'stop',\n\t    value: function stop() {\n\t      if (!this.playing) return this;\n\t\n\t      if (_utils2.default.isWebAudioSupported) {\n\t        this.audio.stop(0);\n\t      } else {\n\t        this.audio.pause();\n\t        this.audio.currentTime = 0;\n\t      }\n\t      this.playing = false;\n\t      this.emit('stop');\n\t\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'reset',\n\t    value: function reset() {\n\t      this._startTime = 0;\n\t      this._lastPauseTime = 0;\n\t      this._offsetTime = 0;\n\t\n\t      this.playing = false;\n\t      //if(utils.isWebAudioSupported)this.audio = null;\n\t    }\n\t  }, {\n\t    key: 'remove',\n\t    value: function remove() {\n\t      this.manager.removeAudio(this);\n\t    }\n\t  }, {\n\t    key: '_onEnd',\n\t    value: function _onEnd() {\n\t      if (!_utils2.default.isWebAudioSupported) {\n\t        if (this.loop) {\n\t          this.audio.currentTime = 0;\n\t          this.audio.play();\n\t        } else {\n\t          this.reset();\n\t          this.emit('end');\n\t        }\n\t      } else {\n\t        if (!this.paused) {\n\t          this.reset();\n\t          this.emit('end');\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'paused',\n\t    get: function get() {\n\t      return this._paused;\n\t    },\n\t    set: function set(value) {\n\t      if (value === this._paused) return;\n\t      if (value) {\n\t        if (_utils2.default.isWebAudioSupported) {\n\t          this._offsetTime += this.manager.context.currentTime - this._startTime;\n\t          this._lastPauseTime = this._offsetTime % this.audio.buffer.duration;\n\t          if (this.audio) this.audio.stop(0);\n\t        } else {\n\t          if (this.audio) this.audio.pause();\n\t        }\n\t        this.emit('pause');\n\t      } else {\n\t        if (_utils2.default.isWebAudioSupported) {\n\t          this.play(true);\n\t        } else {\n\t          if (this.audio) this.audio.play();\n\t        }\n\t        this.emit('resume');\n\t      }\n\t      this._paused = value;\n\t    }\n\t  }, {\n\t    key: 'loop',\n\t    get: function get() {\n\t      return this._loop;\n\t    },\n\t    set: function set(value) {\n\t      if (value === this._loop) return;\n\t      this._loop = value;\n\t      if (_utils2.default.isWebAudioSupported && this.audio) {\n\t        this.audio.loop = value;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'volume',\n\t    get: function get() {\n\t      return this._volume;\n\t    },\n\t    set: function set(value) {\n\t      if (value === this._volume) return;\n\t      if (_utils2.default.isWebAudioSupported) {\n\t        if (this.audio) this.audio.gainNode.gain.value = this.muted ? 0 : this.volume;\n\t      } else {\n\t        if (this.audio) this.audio.volume = this.muted ? 0 : this.volume;\n\t      }\n\t      this._volume = value;\n\t    }\n\t  }, {\n\t    key: 'muted',\n\t    get: function get() {\n\t      return this._muted;\n\t    },\n\t    set: function set(value) {\n\t      if (value === this._muted) return;\n\t      this._muted = value;\n\t      if (_utils2.default.isWebAudioSupported) {\n\t        if (this.audio) this.audio.gainNode.gain.value = this._muted ? 0 : this.volume;\n\t      } else {\n\t        if (this.audio) this.audio.volume = this._muted ? 0 : this.volume;\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Audio;\n\t}(PIXI.utils.EventEmitter);\n\t\n\texports.default = Audio;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.audioParser = audioParser;\n\texports.audioUrlParser = audioUrlParser;\n\t\n\tvar _utils = __webpack_require__(1);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _AudioManager = __webpack_require__(3);\n\t\n\tvar _AudioManager2 = _interopRequireDefault(_AudioManager);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar _allowedExt = [\"m4a\", \"ogg\", \"mp3\", \"wav\"];\n\t\n\tfunction audioParser() {\n\t  return function (resource, next) {\n\t    if (!_utils2.default.isAudioSupported || !resource.data) return next();\n\t\n\t    var ext = _getExt(resource.url);\n\t    if (_allowedExt.indexOf(ext) === -1 || !_canPlay(ext)) return next();\n\t\n\t    var name = resource.name || resource.url;\n\t    if (_utils2.default.isWebAudioSupported) {\n\t      _utils2.default.globalWebAudioContext.decodeAudioData(resource.data, function (buffer) {\n\t        _AudioManager2.default.audios[name] = buffer;\n\t        next();\n\t      });\n\t    } else {\n\t      _AudioManager2.default.audios[name] = resource.data;\n\t      return next();\n\t    }\n\t  };\n\t}\n\t\n\tfunction audioUrlParser(resourceUrl) {\n\t  var url = void 0;\n\t  for (var i = 0; i < resourceUrl.length; i++) {\n\t    var ext = _getExt(resourceUrl[i]);\n\t    if (_allowedExt.indexOf(ext) === -1) break;\n\t    if (_canPlay(ext)) {\n\t      url = resourceUrl[i];\n\t      break;\n\t    }\n\t  }\n\t\n\t  return url;\n\t}\n\t\n\tfunction _getExt(url) {\n\t  return url.split('?').shift().split('.').pop().toLowerCase();\n\t}\n\t\n\tfunction _canPlay(ext) {\n\t  var canPlay = false;\n\t  switch (ext) {\n\t    case \"m4a\":\n\t      canPlay = _utils2.default.isM4aSupported;break;\n\t    case \"mp3\":\n\t      canPlay = _utils2.default.isMp3Supported;break;\n\t    case \"ogg\":\n\t      canPlay = _utils2.default.isOggSupported;break;\n\t    case \"wav\":\n\t      canPlay = _utils2.default.isWavSupported;break;\n\t  }\n\t\n\t  return canPlay;\n\t}\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _pixi = __webpack_require__(2);\n\t\n\tvar PIXI = _interopRequireWildcard(_pixi);\n\t\n\tvar _utils = __webpack_require__(1);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _AudioManager = __webpack_require__(3);\n\t\n\tvar _AudioManager2 = _interopRequireDefault(_AudioManager);\n\t\n\tvar _audioParser = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tvar audio = {\n\t  utils: _utils2.default,\n\t  AudioManager: _AudioManager2.default,\n\t  Audio: Audio,\n\t  audioParser: _audioParser.audioParser\n\t};\n\t\n\tif (!PIXI.AudioManager) {\n\t  var Loader = PIXI.loaders.Loader;\n\t  Loader.addPixiMiddleware(_audioParser.audioParser);\n\t\n\t  var baseAdd = Loader.prototype.add;\n\t  Loader.prototype.add = function (name, url, options, cb) {\n\t    if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n\t      if (Object.prototype.toString.call(name.url) === \"[object Array]\") {\n\t        name.url = (0, _audioParser.audioUrlParser)(name.url);\n\t      }\n\t    }\n\t\n\t    if (Object.prototype.toString.call(url) === \"[object Array]\") {\n\t      url = (0, _audioParser.audioUrlParser)(url);\n\t    }\n\t\n\t    return baseAdd.call(this, name, url, options, cb);\n\t  };\n\t\n\t  PIXI.audio = audio;\n\t  PIXI.loader = new PIXI.loaders.Loader();\n\t  PIXI.loaders.audioParser = _audioParser.audioParser;\n\t  PIXI.audioManager = new _AudioManager2.default();\n\t}\n\t\n\texports.default = audio;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// build/pixi-audio.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d9d899bb38ee26a9e06c","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _pixi = require('pixi.js');\n\nvar isHTMLAudioSupported = !!window.Audio,\n    webAudioContext = window.AudioContext || window.webkitAudioContext,\n    isWebAudioSupported = !!webAudioContext,\n    isAudioSupported = isWebAudioSupported || isHTMLAudioSupported,\n    isMp3Supported = false,\n    isOggSupported = false,\n    isWavSupported = false,\n    isM4aSupported = false,\n    createGainNode = null,\n    globalWebAudioContext = isWebAudioSupported ? new webAudioContext() : null;\n\nif (isAudioSupported) {\n  var audio = document.createElement(\"audio\");\n  isMp3Supported = audio.canPlayType('audio/mpeg;') !== \"\";\n  isOggSupported = audio.canPlayType('audio/ogg; codecs=\"vorbis\"') !== \"\";\n  isWavSupported = audio.canPlayType('audio/wav') !== \"\";\n  isM4aSupported = audio.canPlayType('audio/mp4; codecs=\"mp4a.40.5\"') !== \"\";\n\n  //Add some config to the pixi loader\n  if (isMp3Supported) _setAudioExt(\"mp3\");\n  if (isOggSupported) _setAudioExt(\"ogg\");\n  if (isWavSupported) _setAudioExt(\"wav\");\n  if (isM4aSupported) _setAudioExt(\"m4a\");\n\n  if (isWebAudioSupported) {\n    createGainNode = function createGainNode(ctx) {\n      return ctx.createGain ? ctx.createGain() : ctx.createGainNode();\n    };\n  }\n}\n\nfunction _setAudioExt(ext) {\n  if (isWebAudioSupported) {\n    _pixi.loaders.Resource.setExtensionXhrType(ext, _pixi.loaders.Resource.XHR_RESPONSE_TYPE.BUFFER);\n  } else {\n    _pixi.loaders.Resource.setExtensionLoadType(ext, _pixi.loaders.Resource.LOAD_TYPE.AUDIO);\n  }\n}\n\nexports.default = {\n  isHTMLAudioSupported: isHTMLAudioSupported,\n  webAudioContext: webAudioContext,\n  isWebAudioSupported: isWebAudioSupported,\n  isAudioSupported: isAudioSupported,\n  isMp3Supported: isMp3Supported,\n  isOggSupported: isOggSupported,\n  isWavSupported: isWavSupported,\n  isM4aSupported: isM4aSupported,\n  globalWebAudioContext: globalWebAudioContext,\n  createGainNode: createGainNode\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/utils.js\n// module id = 1\n// module chunks = 0","module.exports = PIXI;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"PIXI\"\n// module id = 2\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _Audio = require('./Audio');\n\nvar _Audio2 = _interopRequireDefault(_Audio);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AudioManager = function () {\n  function AudioManager() {\n    _classCallCheck(this, AudioManager);\n\n    this.enabled = _utils2.default.isAudioSupported;\n    this.sounds = [];\n\n    if (_utils2.default.isWebAudioSupported) {\n      this.context = _utils2.default.globalWebAudioContext;\n      this.gainNode = _utils2.default.createGainNode(this.context);\n      this.gainNode.connect(this.context.destination);\n    }\n  }\n\n  _createClass(AudioManager, [{\n    key: 'getAudio',\n    value: function getAudio(name) {\n      var audio = new _Audio2.default(AudioManager.audios[name], this);\n      this.sounds.push(audio);\n      return audio;\n    }\n  }, {\n    key: 'removeAudio',\n    value: function removeAudio(audio) {\n      var index = this.sounds.indexOf(audio);\n      if (index !== -1) {\n        this.sounds.splice(index, 1);\n      }\n    }\n  }, {\n    key: 'filterAudios',\n    value: function filterAudios(id, value) {\n      var audios = [];\n      var len = this.sounds.length;\n      var emptyValue = typeof value === \"undefined\";\n\n      for (var i = 0; i < len; i++) {\n        if (emptyValue && !!this.sounds[i][id] || !emptyValue && this.sounds[i][id] === value) {\n          audios.push(this.sounds[i]);\n        }\n      }\n\n      return audios;\n    }\n  }, {\n    key: 'mute',\n    value: function mute(value) {\n      value = value !== false;\n      var len = this.sounds.length;\n      for (var i = 0; i < len; i++) {\n        this.sounds[i].muted = value;\n      }\n    }\n  }, {\n    key: 'unmute',\n    value: function unmute() {\n      return this.mute(false);\n    }\n  }, {\n    key: 'pause',\n    value: function pause(value) {\n      value = value !== false;\n      var len = this.sounds.length;\n      for (var i = 0; i < len; i++) {\n        this.sounds[i].paused = value;\n      }\n    }\n  }, {\n    key: 'resume',\n    value: function resume() {\n      return this.pause(false);\n    }\n  }]);\n\n  return AudioManager;\n}();\n\nAudioManager.audios = {};\nexports.default = AudioManager;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/AudioManager.js\n// module id = 3\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _pixi = require('pixi.js');\n\nvar PIXI = _interopRequireWildcard(_pixi);\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Audio = function (_PIXI$utils$EventEmit) {\n  _inherits(Audio, _PIXI$utils$EventEmit);\n\n  function Audio(data, manager) {\n    _classCallCheck(this, Audio);\n\n    var _this = _possibleConstructorReturn(this, (Audio.__proto__ || Object.getPrototypeOf(Audio)).call(this));\n\n    _this._loop = false;\n    _this._paused = false;\n    _this._muted = false;\n    _this._volume = 1;\n    _this._startTime = 0;\n    _this._lastPauseTime = 0;\n    _this._offsetTime = 0;\n    _this.playing = false;\n\n    _this.manager = manager;\n    _this.data = data;\n\n    if (!_utils2.default.isWebAudioSupported) {\n      _this.audio = new window.Audio();\n      _this.audio.addEventListener('ended', _this._onEnd.bind(_this));\n    }\n    return _this;\n  }\n\n  _createClass(Audio, [{\n    key: 'play',\n    value: function play(pause) {\n      if (!pause && this.paused || !pause && this.playing) return this;\n      this.playing = true;\n      this.emit('play');\n\n      if (_utils2.default.isWebAudioSupported) {\n        this.audio = this.manager.context.createBufferSource();\n        this.audio.start = this.audio.start || this.audio.noteOn;\n        this.audio.stop = this.audio.stop || this.audio.noteOff;\n\n        this.audio.buffer = this.data;\n        this.audio.loop = this.loop;\n        this._startTime = this.manager.context.currentTime;\n\n        this.audio.onended = this._onEnd.bind(this);\n        this.audio.gainNode = _utils2.default.createGainNode(this.manager.context);\n        this.audio.gainNode.gain.value = this.muted ? 0 : this.volume;\n        this.audio.gainNode.connect(this.manager.gainNode);\n\n        this.audio.connect(this.audio.gainNode);\n        this.audio.start(0, pause ? this._lastPauseTime : null);\n      } else {\n        this.audio.src = this.data.children[0].src;\n        this.audio.preload = \"auto\";\n        this.audio.volume = this.muted ? 0 : this.volume;\n        this.audio.load();\n        this.audio.play();\n      }\n\n      return this;\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      if (!this.playing) return this;\n\n      if (_utils2.default.isWebAudioSupported) {\n        this.audio.stop(0);\n      } else {\n        this.audio.pause();\n        this.audio.currentTime = 0;\n      }\n      this.playing = false;\n      this.emit('stop');\n\n      return this;\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this._startTime = 0;\n      this._lastPauseTime = 0;\n      this._offsetTime = 0;\n\n      this.playing = false;\n      //if(utils.isWebAudioSupported)this.audio = null;\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      this.manager.removeAudio(this);\n    }\n  }, {\n    key: '_onEnd',\n    value: function _onEnd() {\n      if (!_utils2.default.isWebAudioSupported) {\n        if (this.loop) {\n          this.audio.currentTime = 0;\n          this.audio.play();\n        } else {\n          this.reset();\n          this.emit('end');\n        }\n      } else {\n        if (!this.paused) {\n          this.reset();\n          this.emit('end');\n        }\n      }\n    }\n  }, {\n    key: 'paused',\n    get: function get() {\n      return this._paused;\n    },\n    set: function set(value) {\n      if (value === this._paused) return;\n      if (value) {\n        if (_utils2.default.isWebAudioSupported) {\n          this._offsetTime += this.manager.context.currentTime - this._startTime;\n          this._lastPauseTime = this._offsetTime % this.audio.buffer.duration;\n          if (this.audio) this.audio.stop(0);\n        } else {\n          if (this.audio) this.audio.pause();\n        }\n        this.emit('pause');\n      } else {\n        if (_utils2.default.isWebAudioSupported) {\n          this.play(true);\n        } else {\n          if (this.audio) this.audio.play();\n        }\n        this.emit('resume');\n      }\n      this._paused = value;\n    }\n  }, {\n    key: 'loop',\n    get: function get() {\n      return this._loop;\n    },\n    set: function set(value) {\n      if (value === this._loop) return;\n      this._loop = value;\n      if (_utils2.default.isWebAudioSupported && this.audio) {\n        this.audio.loop = value;\n      }\n    }\n  }, {\n    key: 'volume',\n    get: function get() {\n      return this._volume;\n    },\n    set: function set(value) {\n      if (value === this._volume) return;\n      if (_utils2.default.isWebAudioSupported) {\n        if (this.audio) this.audio.gainNode.gain.value = this.muted ? 0 : this.volume;\n      } else {\n        if (this.audio) this.audio.volume = this.muted ? 0 : this.volume;\n      }\n      this._volume = value;\n    }\n  }, {\n    key: 'muted',\n    get: function get() {\n      return this._muted;\n    },\n    set: function set(value) {\n      if (value === this._muted) return;\n      this._muted = value;\n      if (_utils2.default.isWebAudioSupported) {\n        if (this.audio) this.audio.gainNode.gain.value = this._muted ? 0 : this.volume;\n      } else {\n        if (this.audio) this.audio.volume = this._muted ? 0 : this.volume;\n      }\n    }\n  }]);\n\n  return Audio;\n}(PIXI.utils.EventEmitter);\n\nexports.default = Audio;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Audio.js\n// module id = 4\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.audioParser = audioParser;\nexports.audioUrlParser = audioUrlParser;\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _AudioManager = require('./AudioManager');\n\nvar _AudioManager2 = _interopRequireDefault(_AudioManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _allowedExt = [\"m4a\", \"ogg\", \"mp3\", \"wav\"];\n\nfunction audioParser() {\n  return function (resource, next) {\n    if (!_utils2.default.isAudioSupported || !resource.data) return next();\n\n    var ext = _getExt(resource.url);\n    if (_allowedExt.indexOf(ext) === -1 || !_canPlay(ext)) return next();\n\n    var name = resource.name || resource.url;\n    if (_utils2.default.isWebAudioSupported) {\n      _utils2.default.globalWebAudioContext.decodeAudioData(resource.data, function (buffer) {\n        _AudioManager2.default.audios[name] = buffer;\n        next();\n      });\n    } else {\n      _AudioManager2.default.audios[name] = resource.data;\n      return next();\n    }\n  };\n}\n\nfunction audioUrlParser(resourceUrl) {\n  var url = void 0;\n  for (var i = 0; i < resourceUrl.length; i++) {\n    var ext = _getExt(resourceUrl[i]);\n    if (_allowedExt.indexOf(ext) === -1) break;\n    if (_canPlay(ext)) {\n      url = resourceUrl[i];\n      break;\n    }\n  }\n\n  return url;\n}\n\nfunction _getExt(url) {\n  return url.split('?').shift().split('.').pop().toLowerCase();\n}\n\nfunction _canPlay(ext) {\n  var canPlay = false;\n  switch (ext) {\n    case \"m4a\":\n      canPlay = _utils2.default.isM4aSupported;break;\n    case \"mp3\":\n      canPlay = _utils2.default.isMp3Supported;break;\n    case \"ogg\":\n      canPlay = _utils2.default.isOggSupported;break;\n    case \"wav\":\n      canPlay = _utils2.default.isWavSupported;break;\n  }\n\n  return canPlay;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/audioParser.js\n// module id = 5\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _pixi = require('pixi.js');\n\nvar PIXI = _interopRequireWildcard(_pixi);\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _AudioManager = require('./AudioManager');\n\nvar _AudioManager2 = _interopRequireDefault(_AudioManager);\n\nvar _audioParser = require('./audioParser');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar audio = {\n  utils: _utils2.default,\n  AudioManager: _AudioManager2.default,\n  Audio: Audio,\n  audioParser: _audioParser.audioParser\n};\n\nif (!PIXI.AudioManager) {\n  var Loader = PIXI.loaders.Loader;\n  Loader.addPixiMiddleware(_audioParser.audioParser);\n\n  var baseAdd = Loader.prototype.add;\n  Loader.prototype.add = function (name, url, options, cb) {\n    if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n      if (Object.prototype.toString.call(name.url) === \"[object Array]\") {\n        name.url = (0, _audioParser.audioUrlParser)(name.url);\n      }\n    }\n\n    if (Object.prototype.toString.call(url) === \"[object Array]\") {\n      url = (0, _audioParser.audioUrlParser)(url);\n    }\n\n    return baseAdd.call(this, name, url, options, cb);\n  };\n\n  PIXI.audio = audio;\n  PIXI.loader = new PIXI.loaders.Loader();\n  PIXI.loaders.audioParser = _audioParser.audioParser;\n  PIXI.audioManager = new _AudioManager2.default();\n}\n\nexports.default = audio;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.js\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}