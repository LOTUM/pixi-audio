!function(e){function t(o){if(i[o])return i[o].exports;var u=i[o]={exports:{},id:o,loaded:!1};return e[o].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){e.exports=i(6)},function(e,t,i){"use strict";function o(e){r?u.loaders.Resource.setExtensionXhrType(e,u.loaders.Resource.XHR_RESPONSE_TYPE.BUFFER):u.loaders.Resource.setExtensionLoadType(e,u.loaders.Resource.LOAD_TYPE.AUDIO)}Object.defineProperty(t,"__esModule",{value:!0});var u=i(2),a=!!window.Audio,n=window.AudioContext||window.webkitAudioContext,r=!!n,s=r||a,d=!1,l=!1,f=!1,p=!1,c=null,h=r?new n:null;if(s){var m=document.createElement("audio");d=""!==m.canPlayType("audio/mpeg;"),l=""!==m.canPlayType('audio/ogg; codecs="vorbis"'),f=""!==m.canPlayType("audio/wav"),p=""!==m.canPlayType('audio/mp4; codecs="mp4a.40.5"'),d&&o("mp3"),l&&o("ogg"),f&&o("wav"),p&&o("m4a"),r&&(c=function(e){return e.createGain?e.createGain():e.createGainNode()})}t.default={isHTMLAudioSupported:a,webAudioContext:n,isWebAudioSupported:r,isAudioSupported:s,isMp3Supported:d,isOggSupported:l,isWavSupported:f,isM4aSupported:p,globalWebAudioContext:h,createGainNode:c}},function(e,t){e.exports=PIXI},function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=i(1),r=o(n),s=i(4),d=o(s),l=function(){function e(){u(this,e),this.enabled=r.default.isAudioSupported,this.sounds=[],r.default.isWebAudioSupported&&(this.context=r.default.globalWebAudioContext,this.gainNode=r.default.createGainNode(this.context),this.gainNode.connect(this.context.destination))}return a(e,[{key:"getAudio",value:function(t){var i=new d.default(e.audios[t],this);return this.sounds.push(i),i}},{key:"removeAudio",value:function(e){var t=this.sounds.indexOf(e);t!==-1&&this.sounds.splice(t,1)}},{key:"filterAudios",value:function(e,t){for(var i=[],o=this.sounds.length,u="undefined"==typeof t,a=0;a<o;a++)(u&&this.sounds[a][e]||!u&&this.sounds[a][e]===t)&&i.push(this.sounds[a]);return i}},{key:"mute",value:function(e){e=e!==!1;for(var t=this.sounds.length,i=0;i<t;i++)this.sounds[i].muted=e}},{key:"unmute",value:function(){return this.mute(!1)}},{key:"pause",value:function(e){e=e!==!1;for(var t=this.sounds.length,i=0;i<t;i++)this.sounds[i].paused=e}},{key:"resume",value:function(){return this.pause(!1)}}]),e}();l.audios={},t.default=l},function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),d=i(2),l=u(d),f=i(1),p=o(f),c=function(e){function t(e,i){a(this,t);var o=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._loop=!1,o._paused=!1,o._muted=!1,o._volume=1,o._startTime=0,o._lastPauseTime=0,o._offsetTime=0,o.playing=!1,o.manager=i,o.data=e,p.default.isWebAudioSupported||(o.audio=new window.Audio,o.audio.addEventListener("ended",o._onEnd.bind(o))),o}return r(t,e),s(t,[{key:"play",value:function(e){return!e&&this.paused||!e&&this.playing?this:(this.playing=!0,this.emit("play"),p.default.isWebAudioSupported?(this.audio=this.manager.context.createBufferSource(),this.audio.start=this.audio.start||this.audio.noteOn,this.audio.stop=this.audio.stop||this.audio.noteOff,this.audio.buffer=this.data,this.audio.loop=this.loop,this._startTime=this.manager.context.currentTime,this.audio.onended=this._onEnd.bind(this),this.audio.gainNode=p.default.createGainNode(this.manager.context),this.audio.gainNode.gain.value=this.muted?0:this.volume,this.audio.gainNode.connect(this.manager.gainNode),this.audio.connect(this.audio.gainNode),this.audio.start(0,e?this._lastPauseTime:null)):(this.audio.src=this.data.children[0].src,this.audio.preload="auto",this.audio.volume=this.muted?0:this.volume,this.audio.load(),this.audio.play()),this)}},{key:"stop",value:function(){return this.playing?(p.default.isWebAudioSupported?this.audio.stop(0):(this.audio.pause(),this.audio.currentTime=0),this.playing=!1,this.emit("stop"),this):this}},{key:"reset",value:function(){this._startTime=0,this._lastPauseTime=0,this._offsetTime=0,this.playing=!1}},{key:"remove",value:function(){this.manager.removeAudio(this)}},{key:"_onEnd",value:function(){p.default.isWebAudioSupported?this.paused||(this.reset(),this.emit("end")):this.loop?(this.audio.currentTime=0,this.audio.play()):(this.reset(),this.emit("end"))}},{key:"paused",get:function(){return this._paused},set:function(e){e!==this._paused&&(e?(p.default.isWebAudioSupported?(this._offsetTime+=this.manager.context.currentTime-this._startTime,this._lastPauseTime=this._offsetTime%this.audio.buffer.duration,this.audio&&this.audio.stop(0)):this.audio&&this.audio.pause(),this.emit("pause")):(p.default.isWebAudioSupported?this.play(!0):this.audio&&this.audio.play(),this.emit("resume")),this._paused=e)}},{key:"loop",get:function(){return this._loop},set:function(e){e!==this._loop&&(this._loop=e,p.default.isWebAudioSupported&&this.audio&&(this.audio.loop=e))}},{key:"volume",get:function(){return this._volume},set:function(e){e!==this._volume&&(p.default.isWebAudioSupported?this.audio&&(this.audio.gainNode.gain.value=this.muted?0:this.volume):this.audio&&(this.audio.volume=this.muted?0:this.volume),this._volume=e)}},{key:"muted",get:function(){return this._muted},set:function(e){e!==this._muted&&(this._muted=e,p.default.isWebAudioSupported?this.audio&&(this.audio.gainNode.gain.value=this._muted?0:this.volume):this.audio&&(this.audio.volume=this._muted?0:this.volume))}}]),t}(l.utils.EventEmitter);t.default=c},function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function u(){return function(e,t){if(!d.default.isAudioSupported||!e.data)return t();var i=n(e.url);if(p.indexOf(i)===-1||!r(i))return t();var o=e.name||e.url;return d.default.isWebAudioSupported?void d.default.globalWebAudioContext.decodeAudioData(e.data,function(e){f.default.audios[o]=e,t()}):(f.default.audios[o]=e.data,t())}}function a(e){for(var t=void 0,i=0;i<e.length;i++){var o=n(e[i]);if(p.indexOf(o)===-1)break;if(r(o)){t=e[i];break}}return t}function n(e){return e.split("?").shift().split(".").pop().toLowerCase()}function r(e){var t=!1;switch(e){case"m4a":t=d.default.isM4aSupported;break;case"mp3":t=d.default.isMp3Supported;break;case"ogg":t=d.default.isOggSupported;break;case"wav":t=d.default.isWavSupported}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.audioParser=u,t.audioUrlParser=a;var s=i(1),d=o(s),l=i(3),f=o(l),p=["m4a","ogg","mp3","wav"]},function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=i(2),r=u(n),s=i(1),d=o(s),l=i(3),f=o(l),p=i(5),c={utils:d.default,AudioManager:f.default,Audio:Audio,audioParser:p.audioParser};if(!r.AudioManager){var h=r.loaders.Loader;h.addPixiMiddleware(p.audioParser);var m=h.prototype.add;h.prototype.add=function(e,t,i,o){return"object"===("undefined"==typeof e?"undefined":a(e))&&"[object Array]"===Object.prototype.toString.call(e.url)&&(e.url=(0,p.audioUrlParser)(e.url)),"[object Array]"===Object.prototype.toString.call(t)&&(t=(0,p.audioUrlParser)(t)),m.call(this,e,t,i,o)},r.audio=c,r.loader=new r.loaders.Loader,r.loaders.audioParser=p.audioParser,r.audioManager=new f.default}t.default=c}]);
//# sourceMappingURL=pixi-audio.js.map